<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Fayren Dash ðŸ¦Š</title>
<style>
  body {
    margin: 0;
    background: #111;
    overflow: hidden;
  }
  canvas {
    display: block;
    margin: auto;
    background: linear-gradient(#222, #000);
  }
</style>
</head>
<body>

<canvas id="game" width="800" height="300"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let fox = {
  x: 50,
  y: 220,
  w: 40,
  h: 40,
  vy: 0,
  jump: false
};

let obstacle = {
  x: 800,
  y: 230,
  w: 30,
  h: 30
};

let score = 0;
let gravity = 0.8;

document.addEventListener("keydown", e => {
  if (e.code === "Space" && !fox.jump) {
    fox.vy = -12;
    fox.jump = true;
  }
});

function update() {
  ctx.clearRect(0,0,800,300);

  // fox
  fox.vy += gravity;
  fox.y += fox.vy;
  if (fox.y >= 220) {
    fox.y = 220;
    fox.vy = 0;
    fox.jump = false;
  }

  ctx.fillStyle = "orange";
  ctx.fillRect(fox.x, fox.y, fox.w, fox.h);

  // obstacle
  obstacle.x -= 6;
  if (obstacle.x < -30) {
    obstacle.x = 800;
    score++;
  }

  ctx.fillStyle = "red";
  ctx.fillRect(obstacle.x, obstacle.y, obstacle.w, obstacle.h);

  // collision
  if (
    fox.x < obstacle.x + obstacle.w &&
    fox.x + fox.w > obstacle.x &&
    fox.y < obstacle.y + obstacle.h &&
    fox.y + fox.h > obstacle.y
  ) {
    alert("ðŸ’¥ Game Over | Score: " + score);
    obstacle.x = 800;
    score = 0;
  }

  // score
  ctx.fillStyle = "white";
  ctx.font = "16px Arial";
  ctx.fillText("Score: " + score, 10, 20);

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>